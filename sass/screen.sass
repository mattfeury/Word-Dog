/*
  Welcome to Compass.
  In this file you should write your main styles. (or centralize your imports)
  Import this file using the following HTML or equivalent:
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />

@import compass/reset
@import compass/css3/
@import "compass/utilities/general/clearfix"

$border-color: #b0e68b
$main-text-color: #97a488
$main-bg: #E8F8DC
$input-font-size: 18px

//'Myriad Pro', 
$main-fonts: 'Lucida Grande', Arial, sans-serif

$header-height: 50px
$border-width: 2px

// Basic resetting of things.
html, body
  width: 100%
  height: auto
  min-height: 100%
  color: $main-text-color

.templates, .template
  display: none

// Dialog stuff.
#shim
  display: none
  position: fixed
  top: 0
  left: 0
  width: 100%
  height: 100%
  z-index: 1

  background-color: gray
  +opacity(0.7)

.dialog
  display: none
  position: absolute
  top: 30%
  left: 50%
  margin-left: -196px
  width: 350px
  z-index: 2
  text-align: center

  background-color: #9ee170
  color: white
  padding: 15px
  border: 3px solid white
  
  h2
    padding-top: 5px
  
  label
    text-align: right
    padding-right: 13%
    font-size: 16px
  
    input
      width: 180px
      height: 18px
  
  .close
    position: absolute
    top: 5px
    right: 5px
    background: url('../images/close-white.png') no-repeat
    border: none
    width: 34px
    height: 33px
    margin: 0
    padding: 0
    text-indent: -999px
    overflow: hidden
    &:hover
      +box-shadow(0 0 0 0)
    
    &:active
      top: 6px
      right: 4px
      left: auto
      bottom: auto

  &.current
    display: block

  &.current ~ #shim
    display: block

// Actual app stuff. TODO break me into different sass files.
body
  background-color: $main-bg  
  font: 13px/20px $main-fonts
  //Helvetica, Arial, sans-serif
  //color: #4F5155

  .logged-out, .logged-in
    display: none
  &.logged-out .logged-out, &.logged-in .logged-in
    display: inline-block
    
  .covered
    visibility: hidden !important
  #action-menu .covered
    display: none !important
    
  .correct
    color: #78C149
  
  .incorrect
    color: #C62F12
    
h1
  font-size: 28px
  margin-bottom: 20px
h2
  font-size: 22px
  margin-bottom: 20px
h3
  font-size: 18px
  margin-bottom: 1em

button, a, input.submit, input.save, .substitute
  border: $border-width solid $border-color
  background-color: white
  color: $main-text-color
  font-size: $input-font-size

  display: inline-block

  padding: 3px 5px
  margin: 2px
  cursor: pointer
  text-decoration: none
  line-height: normal
  font-family: $main-fonts

  &:hover
    +box-shadow(rgba(0, 0, 0, 0.1) 1px 1px 8px 1px)

  &:active
    position: relative
    top: 1px
    left: 1px

.errors
  color: #A00

a.logo-holder, ul.rows a, ul.rows button
  border: none
  display: block
  background: none
  margin: 0
  padding: 0
  &:hover
    +box-shadow(0 0 0 0)

ul.rows
  border: $border-width solid $border-color
  max-height: 450px
  overflow-y: auto
  overflow-x: hidden

  li
    border-top: $border-width solid $border-color
    position: relative

    &:first-child
      border: none

    &:nth-child(even)
      background: #F8F8F8

    a, button
      padding: 7px 15px

    button
      width: 100%

    .edit, .print
      position: absolute
      right: 0
      top: 0
      
      &:active
        left: auto
        top: 1px
        right: -1px
  
.file-holder
  position: relative
  width: 145px
  height: 70px
  overflow: hidden
  cursor: pointer
  
  .substitute
    position: relative
    z-index: 0
    padding: 20px
    
  input
    +opacity(0)
    width: 141px
    height: 70px
    z-index: 1
    cursor: pointer

    position: absolute
    margin: 0
    left: 0
    top: 0

header
  background: white
  border-bottom: $border-width solid $border-color
  padding: 10px
  +clearfix

  .home
    float: left

  > div
    float: right

  .score
    font-size: 32px
    line-height: 34px

    .percentage
      display: inline-block
      margin-left: 10px

#container
  width: 80%
  margin: auto

  #content
    padding-top: 40px
    
    .reinforcement
      font-size: 32px
      text-align: center

    #instruction
      line-height: 1.5em
      
    #lesson
      text-align: center
      padding: 60px
      font-size: 24px
      line-height: 1.5em
      
      .sentence, .question, .answers, .answer
        font-size: 28px
        margin: 5px
        
      input[type="text"]
        width: 80%
        min-width: 500px
        border: $border-width solid $border-color
  
    #action-menu
      padding-top: 20px
      text-align: center
    
// Form stuffs
form
  
  label
    display: block
    margin: 3px 0px
    font-size: $input-font-size
    
  input
    font-size: $input-font-size
    color: #ADB7A5
    padding-left: 5px
    
  input.info
    border: $border-width solid $border-color

.removable
  position: relative
.remove
  background: url('../images/close.png') no-repeat
  border: none
  width: 34px
  height: 33px
  padding: 0px
  text-indent: -999px
  overflow: hidden
  position: absolute
  z-index: 2
  &:hover
    +box-shadow(0 0 0 0)
  
  + *
    padding-left: 40px

// Page specific stuff
// These are currently defined by a class tag
// with the name of the controller that served the page.
.landing
  #container
    width: 50%
    text-align: center

    .about
      display: block
      margin: auto
      padding: 30px  15px

// Any activity page inherits this
body.activities
  img
    display: block
    margin: auto
    padding-bottom: 3%
    max-height: 400px
    max-width: 100%

  .choose-difficulty
    text-align: center

  .missing
    display: inline
    position: relative
    top: -0.25em

    // fills the container to be the right width
    .filler
      margin: 0 10px
      visibility: hidden !important
      display: inline
      color: transparent
      z-index: -1
      +opacity(0)

    label
      position: absolute
      top: 0
      left: 0
      right: 0
      cursor: pointer

    input
      // These need to be important to not get overriden by single answer field styles
      width: inherit !important
      min-width: 0 !important
      border: 1px solid #B0E68B !important
      padding: 5px 5px !important
      text-align: center
      font-size: inherit !important
      margin: 0 !important

      position: absolute
      left: 0
      right: 0
      top: 0
      height: 1em

      display: inline-block

    &.guessing
      label
        display: none
        
  ul.choices
    margin: 20px

    li
      margin: 10px

.users
  .user-link
    position: relative

    .name
      display: inline-block
      max-width: 38%
      text-overflow: ellipsis
      overflow: hidden
      white-space: nowrap

    .school
      position: absolute
      left: 40%
    .grade
      position: absolute
      right: 40px

.users, .units, .activities
  #content
    background: white
    border: $border-width solid $border-color
    margin: 40px 0px
    padding: 20px 40px
    
.units
  // Add / edit unit form
  form
    position: relative

    .delete
      position: absolute
      right: 0
      top: 0

      &:active
        left: auto
        right: -1px
        top: 1px

    h2
      display: inline

    .stretch
      +clearfix
      line-height: 1.75em
      position: relative

      div
        display: block
        width: auto
        position: absolute
        right: 0
        left: 0
        top: 0
        margin-left: 135px
        text-align: right

        input
          width: 95%

    input.unit, input.sentence, input.answer, input.question-text
      border: $border-width solid $border-color
      
    input.unit
      width: 300px
      height: 20px
      
li.unit, li.user
  button, a
    display: block

li.lesson
  border: $border-width solid $border-color
  padding: 10px
  margin: 20px 0px
  position: relative
  
  .image-name
    padding-left: 20px
    padding-bottom: 10px
    font-size: $input-font-size
    color: #ADB7A5

  .upload-picture
    +clearfix
    > label
      float: left

    .image-holder
      position: relative
      margin-left: 18%
      width: 82%
      +clearfix

      .image
        float: left
        width: 50%
        text-align: center
        position: relative
        height: 200px

        .image-name.old-image
          display: none

        &.active
          background-color: $main-bg
          //.image-name.changed
            visibility: visible

        label
          height: 200px

        &.new-image label
          padding-top: 10%

        img
          height: 100%
          max-width: 100%

        .file-holder
          margin: auto

        input[type=radio]
          position: absolute
          top: 5px
          left: 5px
          z-index: 2
    
  li.question
    display: block
    .remove
      z-index: 1
    &:hover .answer .help
      visibility: visible

    .answer
      +clearfix

      .help
        float: left
        width: 28%
        padding: 15px 0
        visibility: hidden
        h4
          font-size: 16px
        p
          font-size: 14px
      .answers
        float: right
        text-align: right
        width: 70%
        margin-right: 2px

        fieldset.answer
          margin: 5px 0
          +clearfix

          input
            display: inline-block
            &[type=text]
              width: 90%

  label
    display: block
      
